{
"$schema": "https://vega.github.io/schema/vega-lite/v5.json",
"title": "Where do Australia's threatened flora and fauna live?",
"width": 850,
"height": 650,
"projection": {"type": "equirectangular"},
"config": {
  "view": {
     "stroke": "transparent"
  }
},

"layer": [
{   
    "data": {
        "url": "https://raw.githubusercontent.com/L-u-c-a-s-C/FIT3179/refs/heads/main/Week9_Homework/australia_with_graticules_5.json",
        "format": {"type": "topojson", "feature": "states_and_territories"}
    },

    "mark": {
        "type": "geoshape",
        "fill": "#ffffd9",
        "stroke": null,
        "strokeWidth":0
    }
},

{
    "data": {
        "url": "https://raw.githubusercontent.com/L-u-c-a-s-C/FIT3179/refs/heads/main/Week9_Homework/tsap_densities_first_common.json",
        "format": {"type": "topojson", "feature": "tsap_densities_first_common"}
    },

    "params": [
        {"name": "select", "select": "point"}   
    ],

    "mark": {
        "type": "geoshape"
    },

    "encoding": {
        "color": {
            "field": "properties.COUNT_",
            "type":"quantitative",
            "scale": {
                "type":"threshold",
                "domain":[0, 1, 2, 3, 4, 5, 6, 7],
                "range": [
                    "#ffffd9",
                    "#edf8b1",
                    "#c7e9b4",
                    "#7fcdbb",
                    "#41b6c4",
                    "#1d91c0",
                    "#225ea8",
                    "#0c2c84",
                    "#081d58"
                ]
            },

            "legend": {
                "title": ["Number of different", "species observed"],
                "labelExpr": "datum.label == '7' ? 'â‰¥ 7' : datum.label"
            }
        },

        "fillOpacity": {
            "condition": {"param": "select", "value": 1},
            "value": 0.2
        },

        "strokeWidth": {
            "condition": [
                {
                    "param": "select",
                    "empty": false,
                    "value": 2
                }
            ],

            "value": 0
        },

        "tooltip": [
            {"field": "properties.COUNT_", "type": "quantitative", "title": "Count"},
            {"field": "properties.COMMON_NAM", "type":"nominal", "title": "Species"}
        ]
    }
},

{
    "data": {
        "url": "https://raw.githubusercontent.com/L-u-c-a-s-C/FIT3179/refs/heads/main/Week9_Homework/tsap_densities_first_common.json",
        "format": {"type": "topojson", "feature": "ne_110m_graticules_5"}
    },

    "mark": {
        "type": "geoshape", 
        "fill": null, 
        "stroke": "lightgray"
    }
}

]

}
